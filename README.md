# GOST1k

–õ–æ–∫–∞–ª—å–Ω—ã–π **RAG –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º .docx .pdf**.  
–†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω, –±–µ–∑ –æ–±–ª–∞–∫–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞, –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

![–î–∏–∞–≥—Ä–∞–º–º–∞ GOST1k](https://github.com/user-attachments/assets/4889c6d4-6a4f-424a-be4b-5e4973767d95)

---

üö´ –ü–æ—á–µ–º—É GOST1k RAG –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LangChain / LangGraph

GOST1k —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ RAG –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º, –∞ –Ω–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—ã—Ö –≥—Ä–∞—Ñ–æ–≤.
–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ LangChain –∏ LangGraph –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –æ–±–ª–∞—á–Ω—ã–µ –ø–∞–π–ø–ª–∞–π–Ω—ã, –≥–¥–µ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –º–æ–¥–µ–ª–µ–π, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π.

–í GOST1k –≤—Å—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é:

query ‚Üí retrieve ‚Üí rerank-1 ‚Üí rerank-2 ‚Üí generate ‚Üí evaluate ‚Üí log


–Ω–∏–∫–∞–∫–∏—Ö SDK –∏ –≤–Ω–µ—à–Ω–∏—Ö API;

—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Ollama, E5-small, BGE-reranker-base);

–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –ª–æ–≥–∏–∫–∞.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–æ—â–µ, –±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥—ë–∂–Ω–µ–µ –≤ on-prem —Å—Ä–µ–¥–µ, –≥–¥–µ –≤–∞–∂–Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å, –∞ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏.

---

## üíæ –û–±—ä–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**~22 –ì–ë –Ω–∞ –¥–∏—Å–∫–µ**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                                                                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                                                                        | –í–µ—Å          |
| ----------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | ------------ |
| **venv (Python, torch, sentence-transformers, chromadb, fastapi, streamlit)** | —Ä–∞–±–æ—á–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏                                                                                                 | **~6 –ì–ë**    |
| **docs/**                                                                     | –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö **PDF** –∏ **DOCX**                                                                  | ‚Äî            |
| **chroma_db/**                                                                | –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞—Ö **E5-small (float32)**. –°—Ä–µ–¥–Ω–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: **1 –ú–ë –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ‚âà 2 –ú–ë –±–∞–∑—ã chroma_db** | ‚Äî            |
| **CUDA Toolkit 13.0 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**                                           | –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é                                                                                                           | **~4 –ì–ë**    |
| **WSL (Ubuntu 22.04)**                                                        | –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ —Å Python –∏ Ollama –≤–Ω—É—Ç—Ä–∏                                                                                              | **~6 –ì–ë**    |
| **Ollama**                                                                    | –±–∏–Ω–∞—Ä—å –∏ –∫—ç—à –º–æ–¥–µ–ª–µ–π                                                                                                              | **~0.3 –ì–ë**  |
| **Qwen 2.5-7B-Instruct-Q4_K_M**                                               | –æ—Å–Ω–æ–≤–Ω–∞—è LLM-–º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏                                                                                                 | **~4.5 –ì–ë**  |
| **E5-small**                                                                  | –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (sentence-transformers)                                                                                        | **~0.35 –ì–ë** |
| **BGE-reranker-base**                                                         | –º–æ–¥–µ–ª—å reranker (cross-encoder)                                                                                                   | **~0.5 –ì–ë**  |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–π–ª / –ø–∞–ø–∫–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------------|-------------|
| `ingest.py` | –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ `docs/` –≤ –±–∞–∑—É ChromaDB. –ß–∏—Ç–∞–µ—Ç PDF –∏ DOCX, —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∏ —Å–æ–∑–¥–∞—ë—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ `SentenceTransformer (E5-small)`. |
| `rag_main.py` | –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ RAG: –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ (`dense_query`), —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ (`CrossEncoder bge-reranker-base`), –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ Ollama (Qwen). |
| `rag_api.py` | REST API (FastAPI). –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏. |
| `ui.py` | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Streamlit). –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç—ã. |
| `check_ollama.py` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama –∏ –º–æ–¥–µ–ª–∏. |
| `requirements.txt` | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞. |
| `docs/` | –ü–∞–ø–∫–∞ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (`.pdf`, `.docx`). |
| `chroma_db/` | –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤. |
| `logs/` | –õ–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. |

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ GOST1k

> –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã **Python** –∏ **Ollama**, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ —à–∞–≥–∏ 1‚Äì3.  
> –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤–ø–µ—Ä–≤—ã–µ ‚Äî —Å–ª–µ–¥—É–π—Ç–µ –≤—Å–µ–º —à–∞–≥–∞–º –ø–æ –ø–æ—Ä—è–¥–∫—É.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
git clone https://github.com/kam1k88/GOST1k.git
cd GOST1k
```

### 2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```powershell
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Ollama
```powershell
ollama serve
python check_ollama.py
```
–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `"status": "ok"` ‚Äî Ollama —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–ø–∫–µ `GOST1k/docs/`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ **.docx** –∏ **.pdf**
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **UTF-8**
- –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
  ```
  GOST1k/docs/
   ‚îú‚îÄ‚îÄ doc_1.pdf
   ‚îú‚îÄ‚îÄ doc_2.docx
   ‚îî‚îÄ‚îÄ doc_3.pdf
  ```

### 5. –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
```powershell
python ingest.py --rebuild
```
–ü–æ—Å–ª–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `chroma_db/` —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–æ–π —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤.  
(–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: **1 –ú–ë –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ‚âà 2 –ú–ë –±–∞–∑—ã chroma_db**.)

### 6. –ó–∞–ø—É—Å–∫

**CLI (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å):**
```powershell
python rag_main.py
```

**REST API:**
```powershell
python rag_api.py
```
Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

**UI (Streamlit):**
```powershell
streamlit run ui.py
```
–û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä: [http://127.0.0.1:8501](http://127.0.0.1:8501)

---

## üß† –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.11+
- PyTorch (cu118)
- SentenceTransformers (E5-small)
- FastAPI, Streamlit, ChromaDB, PyMuPDF
- Ollama (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä) —Å –º–æ–¥–µ–ª—å—é Qwen2.5-7B-Instruct

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ¬© 2025
